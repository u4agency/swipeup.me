{% extends 'swipe.html.twig' %}

{% block title %}{{ swipe.title }}{% endblock %}

{% block meta %}
    <meta name="title"
          content="{{ swipe.title }}">
    <meta name="description"
          content="{{ swipe.description }}">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="{{ swipe.createdAt|date('c') }}">
    <meta property="article:modified_time" content="{{ swipe.updatedAt|date('c') }}">
    <meta property="article:author" content="{{ swipe.author }}">
    <meta property="article:section" content="SwipeUp">
    <meta property="og:title"
          content="{{ swipe.title }}">
    <meta property="og:description"
          content="{{ swipe.description }}">
    <meta property="og:image"
          content="{{ app.request.schemeAndHttpHost }}{{ vich_uploader_asset(swipe, 'logoFile') }}">

    <!-- Twitter -->
    <meta property="twitter:card"
          content="summary">
    <meta property="twitter:site"
          content="@SwipeUp.me">
    <meta property="twitter:title"
          content="{{ swipe.title }}">
    <meta property="twitter:description"
          content="{{ swipe.description }}">
    <meta property="twitter:image"
          content="{{ app.request.schemeAndHttpHost }}{{ vich_uploader_asset(swipe, 'logoFile') }}">
{% endblock %}

{% block body %}
    {% if swipe.font is not null %}
        <style>
            @import url('https://fonts.googleapis.com/css2?family={{swipe.font}}&display=swap');

            .mySwiper {
                font-family: '{{swipe.font}}', 'Reem Kufi', sans-serif;
            }
        </style>
    {% endif %}

    <div id="app" class="md:flex h-full">
        <div class="md:w-3/4 w-2/4 hidden md:block bg-slate-900">
            <div class="grid place-items-center h-screen">
                <div class="max-w-xs w-full h-auto">
                    <img src="{{ vich_uploader_asset(swipe, 'logoFile') }}"
                         alt="Logo de {{ swipe.title }}"
                         class="h-auto w-auto">
                </div>
            </div>
            <div class="fixed left-0 right-0 spotlight opacity-25"></div>
        </div>
        <div class="md:w-2/4 xl:w-1/4 mx-auto md:mx-0 h-full">
            <div class="h-full w-full mySwiper">
                <div class="swiper-wrapper">
                    {% for key, slide in swipe.swipe %}
                        {% if slide.image is defined %}
                            {{ include('_composants/swipe.image.html.twig') }}
                        {% elseif slide.video is defined %}
                            {{ include('_composants/swipe.video.html.twig') }}
                        {% endif %}
                    {% endfor %}
                    <div class="swiper-slide">
                        <div class="h-full w-full relative text-center text-lg bg-gradient-to-br from-swipe-900 to-swipe-600 flex justify-center items-center">
                            <div class="block space-y-4 w-full p-8">
                                {% for key, slide in swipe.swipe %}
                                    {% if slide.button is defined %}
                                        {{ include('_components/_swipe.button.html.twig', {
                                            sc:"w-full"
                                        }) }}
                                    {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </div>
{% endblock %}