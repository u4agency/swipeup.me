{% extends 'admin.html.twig' %}

{% block body %}
    <section class="font-light sm:text-xl text-white body-font">
        <div class="mx-auto max-w-screen-2xl py-24 md:py-36">
            <div class="opacity-75 fixed inset-0 -z-[1] overflow-hidden blur-[100px] select-none pointer-events-none">
                <div class="top-2/5 left-3/5 w-[700px] h-[700px] -z-[2] bg-swipe-100 absolute rounded-full opacity-60 ease-gradient animate-gradient-1"></div>
                <div class="top-3/5 left-2/5 w-[600px] h-[600px] -z-[1] bg-swipe-500 absolute rounded-full opacity-60 ease-gradient animate-gradient-2"></div>
                <div class="top-1/2 left-1/2 w-[500px] h-[500px] -z-[3] bg-swipe-900 absolute rounded-full opacity-60 ease-gradient animate-gradient-3"></div>
            </div>

            <div class="flex min-h-full items-center justify-center py-12 mx-auto">
                <div class="w-full space-y-16">
                    <h1 class="mx-auto text-4xl sm:text-5xl font-semibold lg:text-6xl text-center">
                        Mes SwipeUp
                    </h1>

                    <div class="relative overflow-x-auto border border-swipe-400 bg-transparent w-full rounded-xl sm:rounded-3xl">
                        <table class="w-full text-sm text-left text-gray-400">
                            <thead class="text-xs uppercase text-gray-400 border-b-2 border-swipe-700">
                            <tr>
                                <th scope="col" class="px-6 py-3">
                                    <div class="flex items-center">
                                        Titre
                                        <a href="#">
                                            <svg class="w-3 h-3 ml-1.5" aria-hidden="true"
                                                 xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                                                 viewBox="0 0 24 24">
                                                <path d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"/>
                                            </svg>
                                        </a>
                                    </div>
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    <div class="flex items-center">
                                        Créé le
                                        <a href="#">
                                            <svg class="w-3 h-3 ml-1.5" aria-hidden="true"
                                                 xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                                                 viewBox="0 0 24 24">
                                                <path d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"/>
                                            </svg>
                                        </a>
                                    </div>
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    <div class="flex items-center">
                                        Modifié le
                                        <a href="#">
                                            <svg class="w-3 h-3 ml-1.5" aria-hidden="true"
                                                 xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                                                 viewBox="0 0 24 24">
                                                <path d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"/>
                                            </svg>
                                        </a>
                                    </div>
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    <div class="flex items-center">
                                        Status
                                        <a href="#">
                                            <svg class="w-3 h-3 ml-1.5" aria-hidden="true"
                                                 xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                                                 viewBox="0 0 24 24">
                                                <path d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"/>
                                            </svg>
                                        </a>
                                    </div>
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    <span class="sr-only">Actions</span>
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for swipeup in swipeups %}
                                <tr class="{{ not loop.last ? 'border-b border-swipe-700' }} whitespace-nowrap text-gray-300">
                                    <th scope="row" class="px-6 py-4 font-medium text-white">
                                        <span class="inline-flex items-baseline gap-2">
                                            <img src="{{ vich_uploader_asset(swipeup, 'logoFile')|imagine_filter('swipeup') }}"
                                                 alt="{{ swipeup.title }}"
                                                 class="self-center w-5 h-5 rounded-full mx-1"/>
                                            <span>{{ swipeup.title }}</span>
                                        </span>
                                    </th>
                                    <td class="px-6 py-4">
                                        <span {{ stimulus_controller('tippy', {text: swipeup.createdAt|date("d/m/Y \à H:i:s")}) }}>{{ swipeup.createdAt|dateHR }}</span>
                                    </td>
                                    <td class="px-6 py-4">
                                        <span {{ stimulus_controller('tippy', {text: swipeup.createdAt|date("d/m/Y \à H:i:s")}) }}>{{ swipeup.updatedAt|dateHR }}</span>
                                    </td>
                                    <td class="px-6 py-4">
                                        {{ swipeup.status|status }}
                                    </td>
                                    <td class="px-6 py-4 text-right flex gap-4 justify-end">
                                        <a href="{{ path('app_user_swipeup_edit', {'slug': swipeup.slug}) }}"
                                           class="font-medium text-blue-500 hover:underline">Modifier</a>
                                        <form
                                                {{ stimulus_controller('confirm-submit',  {
                                                    title: "Supprimer le SwipeUp @"~swipeup.slug~" ?",
                                                    icon: "warning",
                                                    confirmationButtonText: "Oui, le supprimer",
                                                    submitAsync: false,
                                                }) }}
                                                {{ stimulus_action('confirm-submit', 'onSubmit') }}
                                                action="{{ path('_api_swipeup_delete', {id: swipeup.id}) }}"
                                                method="post"
                                        >
                                            <input type="hidden" name="_token"
                                                   value="{{ csrf_token('delete' ~ swipeup.id) }}">
                                            <button type="submit"
                                                    class="font-medium text-red-500 hover:underline">
                                                Supprimer
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="5" class="px-6 py-4 text-center text-white">
                                        <a href="{{ path('app_swipe_create') }}"
                                           class="font-medium text-swipe-50 hover:underline">En créer un nouveau ?</a>
                                    </td>
                                </tr>
                            {% else %}
                                <tr>
                                    <td colspan="5" class="px-6 py-4 text-center text-white">
                                        Aucun SwipeUp
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="5" class="px-6 py-4 text-center text-white">
                                        <a href="{{ path('app_swipe_create') }}"
                                           class="font-medium text-swipe-50 hover:underline">En créer un ?</a>
                                    </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block title %}
    Mes SwipeUp
{% endblock %}

